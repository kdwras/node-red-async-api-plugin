{
  "asyncapi": "2.6.0",
  "info": {
    "title": "Example AsyncAPI",
    "version": "1.0.0",
    "description": "An example AsyncAPI specification for a messaging system."
  },
  "servers": {
    "localhost": {
      "url": "localhost:1883",
      "protocol": "mqtt",
      "description": "MQTT broker."
    }
  },
  "channels": {
    "orders": {
      "description": "Channel for processing orders.",
      "subscribe": {
        "summary": "Receive new orders",
        "operationId": "receiveNewOrder",
        "message": {
          "contentType": "application/json",
          "payload": {
            "type": "object",
            "properties": {
              "orderId": { "type": "string" },
              "customerName": { "type": "string" },
              "items": {
                "type": "array",
                "items": { "type": "string" }
              },
              "totalPrice": { "type": "number" }
            },
            "required": ["orderId", "customerName", "items", "totalPrice"]
          }
        }
      },
      "publish": {
        "summary": "Send order confirmations",
        "operationId": "sendOrderConfirmation",
        "message": {
          "contentType": "application/json",
          "payload": {
            "type": "object",
            "properties": {
              "orderId": { "type": "string" },
              "status": { "type": "string" }
            },
            "required": ["orderId", "status"]
          }
        }
      }
    }
  }
}
